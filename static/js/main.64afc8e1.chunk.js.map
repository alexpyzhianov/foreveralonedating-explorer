{"version":3,"sources":["Face.module.css","App.module.css","Tooltip.module.css","StoryLine.module.css","Tooltip.tsx","Face.tsx","shape.ts","StoryLine.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["module","exports","Tooltip","top","title","score","comments","url","className","styles","tooltip","style","role","aria-label","href","target","rel","Face","age","gender","isSelected","fontSize","post","onSelect","selected","onClick","fromGender","ageRegex","metaRegex","filterGood","toGender","serverPostToClient","exec","h","titleInt","createdUtc","Date","t","parseInt","undefined","s","u","toLowerCase","c","scoreExtent","sizeScale","scaleLinear","domain","range","fileList","Array","fill","map","_","i","postsCache","Row","React","memo","date","posts","selectedUrl","setSelectedUrl","verticalScale","year","isSameDay","startOfYear","format","month","startOfMonth","column","tick","p","key","e","areEqual","Storyline","useState","leftBound","setLeftBound","containerRef","useRef","containerSize","useComponentSize","days","setDays","loadMoreItems","useCallback","nextFile","shift","axios","get","then","result","prototype","push","apply","data","filter","from","group","startOfDay","valueOf","Promise","resolve","scalePow","exponent","height","isItemLoaded","index","length","itemCount","maybeUpdateLeftBound","timestamp","hideYear","diff","differenceInCalendarDays","shouldHideYear","hideMonth","shouldHideMonth","storyline","ref","onItemsRendered","width","itemData","itemSize","layout","overscanCount","props","visibleStartIndex","updatedStyle","left","fixedYear","fixedMonth","App","app","attribution","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.64afc8e1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Face_post__28TVh\",\"selected\":\"Face_selected__3RvCB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1kX79\",\"attribution\":\"App_attribution__1Q091\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tooltip\":\"Tooltip_tooltip__2efxb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"storyline\":\"StoryLine_storyline__3sU0T\",\"column\":\"StoryLine_column__38MPb\",\"tick\":\"StoryLine_tick__2rO5J\",\"year\":\"StoryLine_year__1d-fD\",\"month\":\"StoryLine_month__29zMZ\",\"fixedYear\":\"StoryLine_fixedYear__36n6t\",\"fixedMonth\":\"StoryLine_fixedMonth__4DKR0\"};","import React from \"react\"\nimport styles from \"./Tooltip.module.css\"\n\nexport interface TooltipProps {\n    top: number\n    title: string\n    score: number\n    comments: number\n    url: string\n}\n\nexport const Tooltip: React.FC<TooltipProps> = ({\n    top,\n    title,\n    score,\n    comments,\n    url,\n}) => {\n    return (\n        <div className={styles.tooltip} style={{ top }}>\n            <h4>{title}</h4>\n            <p>\n                <span role=\"img\" aria-label=\"post score\">\n                    ‚¨ÜÔ∏è\n                </span>{\" \"}\n                {score}\n            </p>\n            <p>\n                <span role=\"img\" aria-label=\"comments\">\n                    üí¨Ô∏è\n                </span>{\" \"}\n                {comments}\n            </p>\n            <a\n                href={\n                    \"https://www.reddit.com/r/ForeverAloneDating/comments/\" +\n                    url\n                }\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n            >\n                Open the post\n            </a>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { Post, Gender } from \"./shape\"\nimport styles from \"./Face.module.css\"\n\nfunction getEmoji(age: number, gender: Gender) {\n    if (age < 20 && gender === \"m\") {\n        return \"üë¶\"\n    } else if (age < 20 && gender === \"f\") {\n        return \"üëß\"\n    } else if (age < 40 && gender === \"m\") {\n        return \"üë®\"\n    } else if (age < 40 && gender === \"f\") {\n        return \"üë©\"\n    } else if (age < 60 && gender === \"m\") {\n        return \"üë®‚Äçü¶≥\"\n    } else if (age < 60 && gender === \"f\") {\n        return \"üë©‚Äçü¶≥\"\n    } else if (gender === \"f\") {\n        return \"üëµ\"\n    } else if (gender === \"m\") {\n        return \"üë¥\"\n    } else {\n        return \"üëΩ\"\n    }\n}\n\nexport interface FaceProps {\n    isSelected: boolean\n    top: number\n    fontSize: number\n    post: Post\n    onSelect(e: React.MouseEvent<HTMLDivElement>): void\n}\n\nexport const Face: React.FC<FaceProps> = ({\n    isSelected,\n    top,\n    fontSize,\n    post,\n    onSelect,\n}) => (\n    <div\n        className={`${styles.post} ${isSelected ? styles.selected : \"\"}`}\n        style={{ top, fontSize }}\n        onClick={onSelect}\n    >\n        {getEmoji(\n            post.age as number, // handled by filter\n            post.fromGender as Gender,\n        )}\n    </div>\n)\n","export interface ServerPost {\n    c: number // comments\n    t: number // time\n    s: number // score\n    h: string // title\n    u: string // url\n}\n\nexport type Gender = \"m\" | \"f\" | \"r\"\n\nexport interface Post {\n    createdUtc: Date\n    score: number\n    url: string\n    age?: number\n    fromGender?: Gender\n    toGender?: Gender\n    title: string\n    comments: number\n}\n\nconst ageRegex = /\\d\\d/\nconst metaRegex = /([M,F,f,m])4([M,F,f,m])/\n\nexport function filterGood(post: Post) {\n    return post.fromGender && post.toGender && post.age\n}\n\nexport function serverPostToClient(post: ServerPost): Post {\n    const [titleInt] = ageRegex.exec(post.h) || [null]\n    const [, fromGender, toGender] = metaRegex.exec(post.h) || [\n        null,\n        null,\n        null,\n    ]\n\n    return {\n        createdUtc: new Date(post.t * 1000),\n        age:\n            titleInt && parseInt(titleInt) >= 14 && parseInt(titleInt) < 150\n                ? parseInt(titleInt)\n                : undefined,\n        score: post.s,\n        url: post.u,\n        fromGender: fromGender\n            ? (fromGender.toLowerCase() as Gender)\n            : undefined,\n        toGender: toGender ? (toGender.toLowerCase() as Gender) : undefined,\n        title: post.h,\n        comments: post.c,\n    }\n}\n","import React from \"react\"\nimport axios from \"axios\"\nimport { FixedSizeList as List, areEqual } from \"react-window\"\nimport InfiniteLoader from \"react-window-infinite-loader\"\nimport useComponentSize from \"@rehooks/component-size\"\nimport startOfDay from \"date-fns/startOfDay\"\nimport differenceInCalendarDays from \"date-fns/differenceInCalendarDays\"\nimport startOfMonth from \"date-fns/startOfMonth\"\nimport startOfYear from \"date-fns/startOfYear\"\nimport isSameDay from \"date-fns/isSameDay\"\nimport format from \"date-fns/format\"\nimport { scaleLinear, scalePow } from \"d3-scale\"\nimport { group } from \"d3-array\"\nimport { Tooltip } from \"./Tooltip\"\nimport { Face } from \"./Face\"\nimport { Post, ServerPost, serverPostToClient, filterGood } from \"./shape\"\nimport styles from \"./StoryLine.module.css\"\n\nconst commentsExtent = [0, 100]\nconst scoreExtent = [0, 500]\n\nconst sizeScale = scaleLinear()\n    .domain(commentsExtent)\n    .range([18, 60])\n\nconst fileList = Array(55)\n    .fill(0)\n    .map((_, i) => `./data/data${i}.json`)\n\ntype Day = [number, Post[]]\n\nconst postsCache: Post[] = []\n\nfunction shouldHideYear(timestamp: number) {\n    const diff = differenceInCalendarDays(timestamp, startOfYear(timestamp))\n    return diff < 3 || diff > 363\n}\n\nfunction shouldHideMonth(timestamp: number) {\n    const diff = differenceInCalendarDays(timestamp, startOfMonth(timestamp))\n    return diff < 3 || diff > 29\n}\n\ninterface RowProps {\n    style: any\n    date: number\n    posts: Post[]\n    selectedUrl: string\n    setSelectedUrl(url: string): void\n    verticalScale(v: number): number\n}\n\nconst Row: React.FC<RowProps> = React.memo(\n    ({ style, date, posts, selectedUrl, setSelectedUrl, verticalScale }) => {\n        const year = isSameDay(date, startOfYear(date))\n            ? format(date, \"y\")\n            : null\n\n        const month = isSameDay(date, startOfMonth(date))\n            ? format(date, \"MMMM\")\n            : null\n\n        return (\n            <>\n                <div className={styles.column} style={style}>\n                    <div className={styles.tick}>\n                        {year && <div className={styles.year}>{year}</div>}\n                        {month && <div className={styles.month}>{month}</div>}\n                        <div>{format(date, \"dd\")}</div>\n                    </div>\n                    {posts.map(p => {\n                        const top = verticalScale(p.score)\n                        const isSelected = p.url === selectedUrl\n                        return (\n                            <>\n                                <Face\n                                    key={p.url}\n                                    isSelected={isSelected}\n                                    top={top}\n                                    fontSize={sizeScale(p.comments)}\n                                    post={p}\n                                    onSelect={e => setSelectedUrl(p.url)}\n                                />\n                                {isSelected && <Tooltip top={top} {...p} />}\n                            </>\n                        )\n                    })}\n                </div>\n            </>\n        )\n    },\n    areEqual,\n)\n\nexport const Storyline: React.FC = () => {\n    const [leftBound, setLeftBound] = React.useState({\n        year: \"2019\",\n        month: \"September\",\n    })\n    const containerRef = React.useRef<HTMLDivElement>(null)\n    const containerSize = useComponentSize(containerRef)\n\n    const [selectedUrl, setSelectedUrl] = React.useState<string>(\"\")\n    const [days, setDays] = React.useState<Day[]>([])\n\n    const loadMoreItems = React.useCallback(() => {\n        const nextFile = fileList.shift()\n        if (!nextFile) {\n            return Promise.resolve()\n        }\n\n        return axios.get<any, { data: ServerPost[] }>(nextFile).then(result => {\n            Array.prototype.push.apply(\n                postsCache,\n                result.data.map(serverPostToClient).filter(filterGood),\n            )\n            const days = Array.from(\n                group(postsCache, p => startOfDay(p.createdUtc).valueOf()),\n            )\n            setDays(days)\n        })\n    }, [])\n\n    const verticalScale = scalePow()\n        .exponent(0.7)\n        .domain(scoreExtent)\n        .range([64, containerSize ? containerSize.height : 600])\n\n    const isItemLoaded = (index: number) =>\n        fileList.length === 0 || index < days.length\n\n    const itemCount = fileList.length > 0 ? days.length + 1 : days.length\n\n    const maybeUpdateLeftBound = React.useCallback(\n        (timestamp: number) => {\n            const hideYear = shouldHideYear(timestamp)\n            const hideMonth = shouldHideMonth(timestamp)\n            const year = format(timestamp, \"y\")\n            const month = format(timestamp, \"MMMM\")\n\n            const isChange =\n                (!leftBound.month && !hideMonth) ||\n                (!leftBound.year && !hideYear) ||\n                (leftBound.month && hideMonth) ||\n                (leftBound.year && hideYear) ||\n                year !== leftBound.year ||\n                month !== leftBound.month\n\n            if (isChange) {\n                setLeftBound({\n                    year: hideYear ? \"\" : year,\n                    month: hideMonth ? \"\" : month,\n                })\n            }\n        },\n        [leftBound],\n    )\n\n    return (\n        <div className={styles.storyline} ref={containerRef}>\n            {containerSize.height && (\n                <InfiniteLoader\n                    isItemLoaded={isItemLoaded}\n                    itemCount={itemCount}\n                    loadMoreItems={loadMoreItems}\n                >\n                    {({ onItemsRendered, ref }) => (\n                        <List\n                            height={containerSize.height}\n                            width={containerSize.width}\n                            itemCount={itemCount}\n                            itemData={days}\n                            itemSize={40}\n                            layout=\"horizontal\"\n                            overscanCount={2}\n                            onItemsRendered={props => {\n                                const [date] = days[props.visibleStartIndex]\n                                    ? days[props.visibleStartIndex]\n                                    : [null]\n\n                                onItemsRendered(props)\n\n                                if (date) {\n                                    maybeUpdateLeftBound(date)\n                                }\n                            }}\n                            ref={ref}\n                        >\n                            {({ index, style, data }) => {\n                                const [date, posts] = (data[index] || []) as Day\n                                const updatedStyle = {\n                                    ...style,\n                                    left: (style.left as any) + 20,\n                                }\n                                return isItemLoaded(index) ? (\n                                    <Row\n                                        style={updatedStyle}\n                                        date={date}\n                                        posts={posts}\n                                        selectedUrl={selectedUrl}\n                                        setSelectedUrl={setSelectedUrl}\n                                        verticalScale={verticalScale}\n                                    />\n                                ) : (\n                                    <div\n                                        className={styles.column}\n                                        style={updatedStyle}\n                                    >\n                                        \"...\"\n                                    </div>\n                                )\n                            }}\n                        </List>\n                    )}\n                </InfiniteLoader>\n            )}\n\n            <div className={styles.fixedYear}>{leftBound.year}</div>\n\n            <div className={styles.fixedMonth}>{leftBound.month}</div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { Storyline } from \"./StoryLine\"\nimport styles from \"./App.module.css\"\n\nfunction App() {\n    return (\n        <main className={styles.app}>\n            <Storyline />\n\n            <div className={styles.attribution}>\n                <p>\n                    Get the full{\" \"}\n                    <a\n                        href=\"https://drive.google.com/open?id=1GHJROCkmbGTE6K9WfCQ8z636aGuTcqIB\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                    >\n                        dataset\n                    </a>{\" \"}\n                </p>\n                <p>\n                    <a href=\"https://pyzhianov.github.io/\">Contact</a> the\n                    developer\n                </p>\n            </div>\n        </main>\n    )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\nimport \"./index.css\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}