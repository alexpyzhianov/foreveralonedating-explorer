(window["webpackJsonpreddit-diagram"]=window["webpackJsonpreddit-diagram"]||[]).push([[0],{10:function(e,t,n){e.exports={app:"App_app__1kX79",info:"App_info__3tKmE"}},26:function(e,t,n){e.exports={tooltip:"Tooltip_tooltip__2efxb"}},29:function(e,t,n){e.exports=n(52)},5:function(e,t,n){e.exports={storyline:"StoryLine_storyline__3sU0T",column:"StoryLine_column__38MPb",tick:"StoryLine_tick__2rO5J",year:"StoryLine_year__1d-fD"}},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),l=n.n(o),c=n(4),i=n(22),s=n(23),m=n.n(s),u=n(11),p=n(24),d=n(25),f=n.n(d),v=n(27),g=n(7),h=n(28),y=n(54),b=n(55),O=n(26),E=n.n(O),_=function(e){var t=e.top,n=e.left,a=e.title,o=e.score,l=e.comments,c=e.url;return r.a.createElement("div",{className:E.a.tooltip,style:{top:t,left:n}},r.a.createElement("h4",null,a),r.a.createElement("p",null,r.a.createElement("span",{role:"img","aria-label":"post score"},"\u2b06\ufe0f")," ",o),r.a.createElement("p",null,r.a.createElement("span",{role:"img","aria-label":"comments"},"\ud83d\udcac\ufe0f")," ",l),r.a.createElement("a",{href:"https://www.reddit.com/r/ForeverAloneDating/comments/"+c,target:"_blank",rel:"noopener noreferrer"},"Open the post"))},w=n(9),j=n.n(w);var S=function(e){var t,n,a=e.isSelected,o=e.top,l=e.fontSize,c=e.post,i=e.onFocus;return r.a.createElement("div",{tabIndex:0,className:"".concat(j.a.post," ").concat(a?j.a.selected:""),style:{top:o,fontSize:l},onFocus:i},(t=c.age,n=c.fromGender,t<20&&"m"===n?"\ud83d\udc66":t<20&&"f"===n?"\ud83d\udc67":t<40&&"m"===n?"\ud83d\udc68":t<40&&"f"===n?"\ud83d\udc69":t<60&&"m"===n?"\ud83d\udc68\u200d\ud83e\uddb3":t<60&&"f"===n?"\ud83d\udc69\u200d\ud83e\uddb3":"f"===n?"\ud83d\udc75":"m"===n?"\ud83d\udc74":"\ud83d\udc7d"))},k=/\d\d/,x=/([M,F,f,m])4([M,F,f,m])/;function F(e){return e.fromGender&&e.toGender&&e.age}function L(e){var t=k.exec(e.h)||[null],n=Object(c.a)(t,1)[0],a=x.exec(e.h)||[null,null,null],r=Object(c.a)(a,3),o=r[1],l=r[2];return{createdUtc:new Date(1e3*e.t),age:n&&parseInt(n)>=14&&parseInt(n)<150?parseInt(n):void 0,score:e.s,url:e.u,fromGender:o?o.toLowerCase():void 0,toGender:l?l.toLowerCase():void 0,title:e.h,comments:e.c}}var N=n(5),P=n.n(N);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var D=[0,500],A=Object(h.a)().domain([0,100]).range([18,60]),C=Array(55).fill(0).map(function(e,t){return"./data/data".concat(t,".json")}),G=[],M=r.a.memo(function(e){var t=e.style,n=e.date,a=e.posts,o=e.setTooltip,l=e.verticalScale,c=e.tooltip;return r.a.createElement(r.a.Fragment,null,console.log(t),r.a.createElement("div",{className:P.a.column,style:t},r.a.createElement("div",{className:P.a.tick},r.a.createElement("div",{className:P.a.year},Object(g.a)(n,"y")),r.a.createElement("div",null,Object(g.a)(n,"MMM")),r.a.createElement("div",null,Object(g.a)(n,"dd"))),a.map(function(e){return r.a.createElement(S,{key:e.url,isSelected:Boolean(c&&e.url===c.url),top:l(e.score),fontSize:A(e.comments),post:e,onFocus:function(t){var n=t.target.getBoundingClientRect();o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({top:n.top-40,left:n.left+n.width/2},e))}})})))},u.b),z=function(){var e=r.a.useRef(null),t=f()(e),n=r.a.useState(null),a=Object(c.a)(n,2),o=a[0],l=a[1],i=r.a.useState([]),s=Object(c.a)(i,2),d=s[0],g=s[1],h=r.a.useCallback(function(){var e=C.shift();return e?m.a.get(e).then(function(e){Array.prototype.push.apply(G,e.data.map(L).filter(F));var t=Array.from(Object(b.a)(G,function(e){return Object(v.a)(e.createdUtc).valueOf()}));g(t)}):Promise.resolve()},[]),O=Object(y.a)().exponent(.7).domain(D).range([54,t?t.height:600]);console.log(O(400));var E=function(e){return 0===C.length||e<d.length},w=C.length>0?d.length+1:d.length;return r.a.createElement("div",{className:P.a.storyline,ref:e},t.height&&r.a.createElement(p.a,{isItemLoaded:E,itemCount:w,loadMoreItems:h},function(e){var n=e.onItemsRendered,a=e.ref;return r.a.createElement(u.a,{height:t.height,width:t.width,itemCount:w,itemData:d,itemSize:40,layout:"horizontal",onItemsRendered:n,ref:a},function(e){var t=e.index,n=e.style,a=e.data[t]||[],i=Object(c.a)(a,2),s=i[0],m=i[1];return E(t)?r.a.createElement(M,{style:n,date:s,posts:m,tooltip:o,setTooltip:l,verticalScale:O}):r.a.createElement("div",{className:P.a.column,style:n},'"Loading..."')})}),o&&r.a.createElement(_,o))},R=n(10),T=n.n(R);var B=function(){return r.a.createElement("main",{className:T.a.app},r.a.createElement(z,null),r.a.createElement("p",{className:T.a.info},"Get the full"," ",r.a.createElement("a",{href:"https://drive.google.com/open?id=1kLG9ls3zHLFy4HSKRlNdw23r-KJTiA-1",target:"_blank",rel:"noopener noreferrer"},"dataset")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(51);l.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports={post:"Face_post__28TVh",selected:"Face_selected__3RvCB"}}},[[29,1,2]]]);
//# sourceMappingURL=main.2ff7bee0.chunk.js.map