(window["webpackJsonpreddit-diagram"]=window["webpackJsonpreddit-diagram"]||[]).push([[0],{10:function(e,t,a){e.exports={app:"App_app__1kX79",info:"App_info__3tKmE"}},25:function(e,t,a){e.exports={tooltip:"Tooltip_tooltip__2efxb"}},28:function(e,t,a){e.exports=a(51)},5:function(e,t,a){e.exports={storyline:"StoryLine_storyline__3sU0T",column:"StoryLine_column__38MPb",tick:"StoryLine_tick__2rO5J",year:"StoryLine_year__1d-fD"}},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),l=a.n(o),c=a(4),i=a(22),s=a.n(i),m=a(11),u=a(23),d=a(24),p=a.n(d),f=a(26),h=a(7),v=a(27),g=a(53),E=a(54),_=a(25),y=a.n(_),b=function(e){var t=e.top,a=e.title,n=e.score,o=e.comments,l=e.url;return r.a.createElement("div",{className:y.a.tooltip,style:{top:t}},r.a.createElement("h4",null,a),r.a.createElement("p",null,r.a.createElement("span",{role:"img","aria-label":"post score"},"\u2b06\ufe0f")," ",n),r.a.createElement("p",null,r.a.createElement("span",{role:"img","aria-label":"comments"},"\ud83d\udcac\ufe0f")," ",o),r.a.createElement("a",{href:"https://www.reddit.com/r/ForeverAloneDating/comments/"+l,target:"_blank",rel:"noopener noreferrer"},"Open the post"))},w=a(9),S=a.n(w);var O=function(e){var t,a,n=e.isSelected,o=e.top,l=e.fontSize,c=e.post,i=e.onSelect;return r.a.createElement("div",{className:"".concat(S.a.post," ").concat(n?S.a.selected:""),style:{top:o,fontSize:l},onClick:i},(t=c.age,a=c.fromGender,t<20&&"m"===a?"\ud83d\udc66":t<20&&"f"===a?"\ud83d\udc67":t<40&&"m"===a?"\ud83d\udc68":t<40&&"f"===a?"\ud83d\udc69":t<60&&"m"===a?"\ud83d\udc68\u200d\ud83e\uddb3":t<60&&"f"===a?"\ud83d\udc69\u200d\ud83e\uddb3":"f"===a?"\ud83d\udc75":"m"===a?"\ud83d\udc74":"\ud83d\udc7d"))},j=/\d\d/,k=/([M,F,f,m])4([M,F,f,m])/;function x(e){return e.fromGender&&e.toGender&&e.age}function L(e){var t=j.exec(e.h)||[null],a=Object(c.a)(t,1)[0],n=k.exec(e.h)||[null,null,null],r=Object(c.a)(n,3),o=r[1],l=r[2];return{createdUtc:new Date(1e3*e.t),age:a&&parseInt(a)>=14&&parseInt(a)<150?parseInt(a):void 0,score:e.s,url:e.u,fromGender:o?o.toLowerCase():void 0,toGender:l?l.toLowerCase():void 0,title:e.h,comments:e.c}}var N=a(5),F=a.n(N),I=[0,500],A=Object(v.a)().domain([0,100]).range([18,60]),C=Array(55).fill(0).map(function(e,t){return"./data/data".concat(t,".json")}),G=[],M=r.a.memo(function(e){var t=e.style,a=e.date,n=e.posts,o=e.selectedUrl,l=e.setSelectedUrl,c=e.verticalScale;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:F.a.column,style:t},r.a.createElement("div",{className:F.a.tick},r.a.createElement("div",{className:F.a.year},Object(h.a)(a,"y")),r.a.createElement("div",null,Object(h.a)(a,"MMM")),r.a.createElement("div",null,Object(h.a)(a,"dd"))),n.map(function(e){var t=c(e.score),a=e.url===o;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{key:e.url,isSelected:a,top:t,fontSize:A(e.comments),post:e,onSelect:function(t){return l(e.url)}}),a&&r.a.createElement(b,Object.assign({top:t},e)))})))},m.b),U=function(){var e=r.a.useRef(null),t=p()(e),a=r.a.useState(""),n=Object(c.a)(a,2),o=n[0],l=n[1],i=r.a.useState([]),d=Object(c.a)(i,2),h=d[0],v=d[1],_=r.a.useCallback(function(){var e=C.shift();return e?s.a.get(e).then(function(e){Array.prototype.push.apply(G,e.data.map(L).filter(x));var t=Array.from(Object(E.a)(G,function(e){return Object(f.a)(e.createdUtc).valueOf()}));v(t)}):Promise.resolve()},[]),y=Object(g.a)().exponent(.7).domain(I).range([54,t?t.height:600]),b=function(e){return 0===C.length||e<h.length},w=C.length>0?h.length+1:h.length;return r.a.createElement("div",{className:F.a.storyline,ref:e},t.height&&r.a.createElement(u.a,{isItemLoaded:b,itemCount:w,loadMoreItems:_},function(e){var a=e.onItemsRendered,n=e.ref;return r.a.createElement(m.a,{height:t.height,width:t.width,itemCount:w,itemData:h,itemSize:40,layout:"horizontal",onItemsRendered:a,ref:n},function(e){var t=e.index,a=e.style,n=e.data[t]||[],i=Object(c.a)(n,2),s=i[0],m=i[1];return b(t)?r.a.createElement(M,{style:a,date:s,posts:m,selectedUrl:o,setSelectedUrl:l,verticalScale:y}):r.a.createElement("div",{className:F.a.column,style:a},'"Loading..."')})}))},z=a(10),R=a.n(z);var D=function(){return r.a.createElement("main",{className:R.a.app},r.a.createElement(U,null),r.a.createElement("p",{className:R.a.info},"Get the full"," ",r.a.createElement("a",{href:"https://drive.google.com/open?id=1kLG9ls3zHLFy4HSKRlNdw23r-KJTiA-1",target:"_blank",rel:"noopener noreferrer"},"dataset")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(50);l.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports={post:"Face_post__28TVh",selected:"Face_selected__3RvCB"}}},[[28,1,2]]]);
//# sourceMappingURL=main.9863b2c5.chunk.js.map